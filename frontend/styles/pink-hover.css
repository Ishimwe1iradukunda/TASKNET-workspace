/* Global pink hover styles for text inputs and textareas */
input:not([type="checkbox"]):not([type="radio"]):hover:not(:disabled):not([aria-disabled="true"]):not(:focus),
textarea:hover:not(:disabled):not([aria-disabled="true"]):not(:focus) {
  border-color: rgb(236 72 153) !important; /* pink-500 */
  box-shadow: 0 0 0 3px rgba(244, 114, 182, 0.25) !important; /* pink-400-ish ring */
  background-color: rgba(244, 114, 182, 0.06);
  transition: border-color 0.2s ease, box-shadow 0.2s ease, background-color 0.2s ease;
}

/* Dark mode tweak for better contrast */
.dark input:not([type="checkbox"]):not([type="radio"]):hover:not(:disabled):not([aria-disabled="true"]):not(:focus),
.dark textarea:hover:not(:disabled):not([aria-disabled="true"]):not(:focus) {
  background-color: rgba(244, 114, 182, 0.12);
}

/* Keep cursor and appearance consistent on hover */
input:not([type="checkbox"]):not([type="radio"]):hover,
textarea:hover {
  cursor: text;
}

/* --------------------------------------------- */
/* Top Menu Hover Enhancements                   */
/* Subtle, accessible hover interactions         */
/* --------------------------------------------- */

:root {
  /* Fallbacks leverage the existing pink accent if primary is unavailable */
  --tn-menu-accent: var(--primary, #ec4899);
  --tn-menu-accent-weak: rgba(236, 72, 153, 0.12); /* pink-500 @ ~12% */
  --tn-menu-accent-strong: rgba(236, 72, 153, 0.85); /* pink-500 @ ~85% */
  --tn-muted-bg: rgba(148, 163, 184, 0.12); /* slate-ish as generic muted bg */
  --tn-muted-bg-strong: rgba(148, 163, 184, 0.24);
  --tn-ring: rgba(148, 163, 184, 0.25);
}

.dark {
  --tn-menu-accent-weak: rgba(236, 72, 153, 0.18);
  --tn-muted-bg: rgba(148, 163, 184, 0.18);
  --tn-muted-bg-strong: rgba(148, 163, 184, 0.28);
}

/* Group container to emulate segmented control / screenshot look */
.menu-group {
  background: var(--tn-muted-bg);
  border: 1px solid var(--tn-muted-bg-strong);
  border-radius: 9999px;
  padding: 4px;
  gap: 2px;
  box-shadow: inset 0 1px 0 rgba(255,255,255,0.03);
}

/* Main top menu buttons (ghost/secondary) */
.menu-hover {
  position: relative;
  overflow: hidden; /* contain underline animation */
  transition: color 0.2s ease, background-color 0.2s ease, transform 0.15s ease, box-shadow 0.15s ease;
}

/* Base pill shape for top menu */
.menu-btn {
  border-radius: 9999px !important;
  padding-inline: 0.75rem !important;
  height: 2.25rem !important;
}

/* Slight lift on hover */
.menu-hover:hover {
  transform: translateY(-1px);
}

/* Underline accent on hover */
.menu-hover::after {
  content: "";
  position: absolute;
  left: 0.75rem;
  right: 0.75rem;
  bottom: 0.35rem;
  height: 2px;
  border-radius: 2px;

  /* Prefer color-mix with primary; fallback to pink */
  background:
    color-mix(in oklab, var(--tn-menu-accent) 80%, transparent);
  /* Fallback for browsers without color-mix */
  background: var(--tn-menu-accent-strong);

  transform: scaleX(0);
  transform-origin: left;
  transition: transform 160ms ease;
}

.menu-hover:hover::after {
  transform: scaleX(1);
}

/* Active/selected top menu item */
.menu-active {
  background:
    color-mix(in oklab, var(--tn-menu-accent) 10%, transparent);
  /* Fallback */
  background: var(--tn-menu-accent-weak);
  color: inherit;
  box-shadow:
    inset 0 0 0 1px color-mix(in oklab, var(--tn-menu-accent) 45%, transparent),
    0 1px 1px rgba(0,0,0,0.04);
}

.menu-active::after {
  transform: scaleX(1);
}

/* Improve focus-visible states for keyboard users */
.menu-hover:focus-visible,
.menu-btn:focus-visible {
  outline: none;
  box-shadow:
    0 0 0 3px var(--tn-ring),
    inset 0 0 0 1px color-mix(in oklab, var(--tn-menu-accent) 50%, transparent);
  border-radius: 0.75rem;
}

/* Dropdown items: subtle bg shift, left accent and nudge */
.menu-dd-hover {
  position: relative;
  transition: background-color 0.15s ease, padding-left 0.15s ease;
}

.menu-dd-hover:hover {
  background-color: var(--tn-muted-bg);
  padding-left: 0.625rem; /* slight nudge */
}

/* Left accent bar on hover */
.menu-dd-hover::before {
  content: "";
  position: absolute;
  left: 6px;
  top: 50%;
  width: 3px;
  height: 60%;
  border-radius: 2px;

  /* Prefer color-mix with primary; fallback to pink */
  background:
    color-mix(in oklab, var(--tn-menu-accent) 92%, transparent);
  /* Fallback for browsers without color-mix */
  background: var(--tn-menu-accent-strong);

  transform: translateY(-50%) scaleY(0);
  transform-origin: center;
  transition: transform 140ms ease;
}

.menu-dd-hover:hover::before {
  transform: translateY(-50%) scaleY(1);
}

/* Reduce motion preference */
@media (prefers-reduced-motion: reduce) {
  .menu-hover,
  .menu-hover::after,
  .menu-dd-hover,
  .menu-dd-hover::before {
    transition: none !important;
    transform: none !important;
  }
}
